(this.webpackJsonptics2=this.webpackJsonptics2||[]).push([[0],{141:function(e,t,c){},142:function(e,t,c){},168:function(e,t,c){},185:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(14),r=c.n(n),i=(c(141),c(142),c(9)),l=c(16),o=c(42),d=c.n(o),j=c(55),m=c(3),b=c.p+"static/media/antalis-logo.b6bd2baa.png",u=c.p+"static/media/antalis-logo-white.49c93409.png",x=c(73),O=c.n(x),h=c(37),f=function(e){return new Promise((function(t){var c=!1;O.a.get("http://104.131.97.145/Auth/StatusAuth",{headers:{Authorization:e,Accept:"application/json","Access-Control-Allow-Origin":"*"}}).then((function(e){200!==e.status&&(c=!0)})).catch((function(e){c=!0})).then((function(){c&&t(!1),t(!0)}))}))},p=O.a.create({baseURL:"http://104.131.97.145",timeout:0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},transformRequest:function(e,t){var c=new h.a;return t.Authorization=c.get("session_jwt",{path:"/"}),e&&!e.login&&f(c.get("session_jwt",{path:"/"})).then((function(e){e||(window.location.href="/")})),JSON.stringify(e)}}),v=c(191),g=c(0),N=function(){return Object(g.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center vh-100 bg-lightgray",style:{overflow:"hidden"},children:[Object(g.jsx)("div",{className:"row mb-3",children:Object(g.jsx)(v.a,{animation:"border",role:"status",variant:"primary"})}),Object(g.jsx)("div",{className:"row",style:{width:"20rem"},children:Object(g.jsx)("img",{src:b})})]})},y=c(4),S=c(5),C=function(e){var t=e.variant,c=e.message,s=e.duration,n=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var c=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?c:3&c|8).toString(16)}))}(),r=Object(a.useRef)();return Object(a.useEffect)((function(){setInterval((function(){r.current&&(r.current.classList.remove("alert-fade-in"),r.current.classList.add("alert-fade-out"))}),s)}),[]),Object(g.jsxs)("div",{className:"alert alert-".concat(t," alert-fade-in"),role:"alert",style:{position:"fixed",zIndex:"100000",right:"1em",bottom:"1em"},ref:r,children:["success"==t?Object(g.jsx)(S.a,{icon:y.i,className:"me-2"}):Object(g.jsx)(g.Fragment,{}),"info"==t?Object(g.jsx)(S.a,{icon:y.q,className:"me-2"}):Object(g.jsx)(g.Fragment,{}),"warning"==t?Object(g.jsx)(S.a,{icon:y.m,className:"me-2"}):Object(g.jsx)(g.Fragment,{}),"danger"==t?Object(g.jsx)(S.a,{icon:y.z,className:"me-2"}):Object(g.jsx)(g.Fragment,{}),Object(g.jsx)("small",{children:c})]},n)},k=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),c=Object(a.useRef)(),s=Object(a.useRef)(),n=Object(a.useRef)(),r=localStorage.getItem("remember_me_email"),o=Object(a.useState)(null),d=Object(m.a)(o,2),j=d[0],x=d[1],O=Object(l.f)(),f=new h.a;return Object(g.jsx)("div",{className:"d-flex align-items-center justify-content-center vh-100",id:"login-background",children:Object(g.jsxs)("div",{id:"login-container",className:"row no-gutters",children:[Object(g.jsx)("div",{className:"col bg-white p-5 rounded-start d-md-flex d-none justify-content-center align-items-center",children:Object(g.jsx)("img",{src:b,alt:"Antalis logo",width:"280px"})}),Object(g.jsxs)("div",{className:"col bg-secondary p-5 rounded-end",children:[Object(g.jsx)("div",{className:"d-block d-md-none text-center",children:Object(g.jsx)("img",{src:u,alt:"Antalis logo",width:"260px"})}),Object(g.jsxs)("form",{className:"p-3",onSubmit:function(a){a.preventDefault();var r=e.current.value,i=c.current.value,l=!1;if(i?s.current.className+=" d-none":(s.current.className=s.current.className.replace("d-none",""),c.current.focus(),l=!0),r?t.current.className+=" d-none":(t.current.className=t.current.className.replace("d-none",""),e.current.focus(),l=!0),!l){var o=n.current.checked;localStorage.setItem("remember_me_email",o?r:""),p.post("/Auth/Login",{email:r,password:i,login:!0}).then((function(e){var t="Bearer "+e.data.token;f.set("session_jwt",t,{path:"/"}),p.get("/Accounts/currentUser",{}).then((function(e){var t=e.data;localStorage.setItem("current_user",JSON.stringify(t)),O.push("/home")}))})).catch((function(e){x(Object(g.jsx)(C,{variant:"danger",message:"Las credenciales son incorrectas",duration:"3000"}))}))}},children:[Object(g.jsx)("h4",{className:"text-white mb-4 text-center d-none d-md-block",children:"Sistema de gesti\xf3n de servicio t\xe9cnico"}),Object(g.jsx)("h5",{className:"text-white mb-4 text-center d-block d-md-none",children:"Sistema de gesti\xf3n de servicio t\xe9cnico"}),j,Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{ref:e,type:"text",className:"form-control",placeholder:"ejemplo@antalis.cl",defaultValue:r}),Object(g.jsx)("small",{ref:t,className:"text-primary d-none",children:"* Campo requerido"}),Object(g.jsxs)("div",{className:"form-check mt-1",children:[Object(g.jsx)("input",{ref:n,className:"form-check-input",type:"checkbox",defaultChecked:!!r}),Object(g.jsx)("label",{className:"form-check-label text-white",children:"Recordar correo electr\xf3nico"})]})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Contrase\xf1a"}),Object(g.jsx)("input",{ref:c,type:"password",className:"form-control",placeholder:""}),Object(g.jsx)("small",{ref:s,className:"text-primary d-none",children:"* Campo requerido"})]}),Object(g.jsxs)("div",{className:"d-grid",children:[Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Ingresar"}),Object(g.jsxs)("small",{className:"text-white text-center",children:["\xbfOlvid\xf3 su contrase\xf1a? Recup\xe9rela ",Object(g.jsx)(i.b,{to:"/recover",className:"link-primary",children:"aqu\xed"})]})]})]}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsxs)("small",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," \u2013 Antalis"]})})]})]})})},w=function(){var e=Object(l.f)(),t=Object(a.useState)(!0),c=Object(m.a)(t,2),s=c[0],n=c[1],r=new h.a;return Object(a.useEffect)((function(){var t=function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r.get("session_jwt",{path:"/"}));case 2:t.sent?e.push("/layout"):n(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),s?Object(g.jsx)(N,{}):Object(g.jsx)(k,{})},I=(c(168),c(195)),E=c.p+"static/media/antalis-brand-white.e5a6ef48.png",L=function(){return JSON.parse(localStorage.getItem("current_user"))},R=function(){return JSON.parse(localStorage.getItem("current_user")).role},A=function(){var e=Object(a.useState)("Usuario"),t=Object(m.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){s(L().fullname)}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"small",children:"Sesi\xf3n iniciada como:"}),c]})},q=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"VISITAS T\xc9CNICAS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/otrequest",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Mis solicitudes"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/otrequest/create",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.B})}),"Crear solicitud de visita"]})]})},T=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"\xd3RDENES DE TRABAJO"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"OTs asignadas"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.g})}),"Calendario de trabajo"]})]})},D=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"\xd3RDENES DE TRABAJO"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/otrequest/pending",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes de OT"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.e})}),"OTs en curso"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"OTs archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"SOLICITUDES DE REPUESTOS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"Solicitudes archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"GESTIONAR"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/spare",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.k})}),"Repuestos"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/technicals",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.p})}),"T\xe9cnicos"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/customers",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.I})}),"Clientes"]})]})},F=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"\xd3RDENES DE TRABAJO"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes de OT"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.e})}),"OTs en curso"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"OTs archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"SOLICITUDES DE REPUESTOS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"Solicitudes archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"ESTAD\xcdSTICAS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/stats",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.h})}),"Dashboard"]})]})},M=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"\xd3RDENES DE TRABAJO"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes de OT"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.e})}),"OTs en curso"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"OTs archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"SOLICITUDES DE REPUESTOS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.A})}),"Solicitudes"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.a})}),"Solicitudes archivadas"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"GESTIONAR"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/spare",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.k})}),"Repuestos"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/technicals",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.p})}),"T\xe9cnicos"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/customers",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.I})}),"Clientes"]}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/manage/users",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.J})}),"Usuarios"]}),Object(g.jsx)("div",{className:"sb-sidenav-menu-heading",children:"ESTAD\xcdSTICAS"}),Object(g.jsxs)(i.c,{className:"nav-link",to:"/stats",children:[Object(g.jsx)("div",{className:"sb-nav-link-icon",children:Object(g.jsx)(S.a,{icon:y.h})}),"Dashboard"]})]})},z=function(){return Object(g.jsxs)("div",{className:"d-flex h-100 justify-content-center align-items-center my-auto",children:[Object(g.jsx)(v.a,{animation:"grow",size:"sm",role:"status",variant:"primary",className:"mx-1",style:{animationDelay:"0ms",animationDuration:"1s"}}),Object(g.jsx)(v.a,{animation:"grow",size:"sm",role:"status",variant:"primary",className:"mx-1",style:{animationDelay:"250ms",animationDuration:"1s"}}),Object(g.jsx)(v.a,{animation:"grow",size:"sm",role:"status",variant:"primary",className:"mx-1",style:{animationDelay:"500ms",animationDuration:"1s"}})]})},V=function(e){switch(e){case"Admin":return Object(g.jsx)(M,{});case"Analista":return Object(g.jsx)(F,{});case"Cliente":return Object(g.jsx)(q,{});case"Coordinador":return Object(g.jsx)(D,{});case"Tecnico":return Object(g.jsx)(T,{});default:return null}},W=function(e){var t=e.content,c=Object(a.useRef)(),s=new h.a,n=Object(l.f)(),r=R();return Object(g.jsxs)("div",{className:"vh-100 sb-nav-fixed",ref:c,children:[Object(g.jsxs)("nav",{className:"sb-topnav navbar navbar-expand navbar-dark bg-primary shadow-sm",children:[Object(g.jsx)(i.c,{className:"navbar-brand ps-3",to:"/home",children:Object(g.jsx)("img",{src:E,id:"navbar-brand-img",height:"30",className:"my-auto"})}),Object(g.jsx)("button",{className:"btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0",id:"sidebarToggle",onClick:function(e){e.preventDefault(),c.current.classList.toggle("sb-sidenav-toggled"),localStorage.setItem("sb|sidebar-toggle",c.current.classList.contains("sb-sidenav-toggled"))},href:"#!",children:Object(g.jsx)(S.a,{icon:y.c,className:"text-white"})}),Object(g.jsxs)(I.a,{className:"ms-auto me-3 me-lg-4",children:[Object(g.jsx)(I.a.Toggle,{id:"user-toggle",className:"border-0",children:Object(g.jsx)(S.a,{icon:y.C,className:"fa-fw"})}),Object(g.jsxs)(I.a.Menu,{children:[Object(g.jsxs)(I.a.Item,{href:"/configureaccount",children:[Object(g.jsx)(S.a,{icon:y.E,className:"me-1"}),"Configuraci\xf3n de cuenta"]}),Object(g.jsxs)(I.a.Item,{onClick:function(){s.remove("session_jwt",{path:"/"}),localStorage.removeItem("current_user"),n.push("/")},children:[Object(g.jsx)(S.a,{icon:y.w,className:"me-1"}),"Cerrar sesi\xf3n"]})]})]})]}),Object(g.jsxs)("div",{id:"layoutSidenav",children:[Object(g.jsx)("div",{id:"layoutSidenav_nav",children:Object(g.jsxs)("nav",{className:"sb-sidenav accordion sb-sidenav-dark bg-secondary",id:"sidenavAccordion",children:[Object(g.jsx)("div",{className:"sb-sidenav-menu",children:Object(g.jsx)("div",{className:"nav",children:V(r)})}),Object(g.jsx)("div",{className:"sb-sidenav-footer",id:"logged-as",children:Object(g.jsx)(A,{})})]})}),Object(g.jsxs)("div",{id:"layoutSidenav_content",className:"bg-lightgray",children:[Object(g.jsx)("main",{children:t}),Object(g.jsx)("footer",{className:"py-4 bg-light mt-auto",children:Object(g.jsx)("div",{className:"container-fluid px-4",children:Object(g.jsx)("div",{className:"d-flex align-items-center justify-content-between small",children:Object(g.jsxs)("div",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," \u2013 Antalis"]})})})})]})]})]})},U=function(e){var t=e.content,c=Object(l.f)(),s=Object(a.useState)(!0),n=Object(m.a)(s,2),r=n[0],i=n[1],o=new h.a;return Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(o.get("session_jwt",{path:"/"}));case 2:e.sent?i(!1):c.push("/");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),r?Object(g.jsx)(N,{}):Object(g.jsx)(W,{content:t})},H=O.a.create({baseURL:"http://104.131.97.145",timeout:0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},transformRequest:function(e,t){return JSON.stringify(e)}}),P=function(){var e=Object(a.useState)({active:!1,message:""}),t=Object(m.a)(e,2),c=t[0],s=t[1],n=Object(a.useRef)();return Object(g.jsxs)(g.Fragment,{children:[c.active?Object(g.jsx)(C,{variant:"danger",duration:"3000",message:c.message}):null,Object(g.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",id:"login-background",children:Object(g.jsxs)("div",{className:"bg-secondary p-5 rounded",id:"recover-container",children:[Object(g.jsx)("div",{className:"text-center mb-4",children:Object(g.jsx)("img",{src:u,alt:"Antalis logo",width:"200px"})}),Object(g.jsxs)("form",{className:"p-2",onSubmit:function(e){e.preventDefault(),""!==n.current.value?H.get("/Auth/ForgotPassword",{params:{Email:n.current.value}}).then((function(e){n.current.value=""})).catch((function(e){s({active:!0,message:"Ha ocurrido un error, intente nuevamente."})})):s({active:!0,message:"Debe ingresar su correo electr\xf3nico."})},children:[Object(g.jsxs)("h5",{className:"text-white mb-4 text-center",children:[Object(g.jsx)(S.a,{icon:y.r,className:"me-2"}),"Recuperar contrase\xf1a"]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"ejemplo@antalis.cl",ref:n}),Object(g.jsx)("div",{className:"form-text text-white",children:"Si su correo electr\xf3nico se encuentra asociado a una cuenta, se le har\xe1 llegar instrucciones sobre c\xf3mo reestablecer su contrase\xf1a"})]}),Object(g.jsxs)("div",{className:"d-grid",children:[Object(g.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Confirmar"}),Object(g.jsx)(i.b,{to:"/",className:"btn btn-outline-primary",children:"Volver al inicio"})]})]}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsxs)("small",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," \u2013 Antalis"]})})]})})]})},B=function(){return Object(g.jsx)(P,{})},_=function(e){var t=e.token,c=e.mail,s=Object(a.useState)({active:!1,message:""}),n=Object(m.a)(s,2),r=n[0],i=n[1],o=Object(l.f)(),d=Object(a.useRef)(),j=Object(a.useRef)(),b=Object(a.useRef)();return Object(g.jsxs)(g.Fragment,{children:[r.active?Object(g.jsx)(C,{variant:"danger",duration:"3000",message:r.message}):null,Object(g.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",id:"login-background",children:Object(g.jsxs)("div",{className:"bg-secondary p-5 rounded",id:"recover-container",children:[Object(g.jsx)("div",{className:"text-center mb-4",children:Object(g.jsx)("img",{src:u,alt:"Antalis logo",width:"200px"})}),Object(g.jsxs)("form",{className:"p-2",onSubmit:function(e){e.preventDefault(),i({active:!1,message:""});var c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*;\xa1\xf1])(?=.{6,})"),a=!1;[d,j,b].map((function(e){e.current.classList.remove("required-field"),e.current.value||(a=!0,e.current.classList.add("required-field"))})),a?i({active:!0,message:"Debe completar todos los campos."}):j.current.value===b.current.value?c.test(b.current.value)?H.post("/Auth/ResetPassword",{email:d.current.value,token:t,newPassword:j.current.value,confirmNewPassword:b.current.value}).then((function(e){d.current.value="",b.current.value="",j.current.value="",o.push("/")})).catch((function(e){i({active:!0,message:"Ha ocurrido un error, intente nuevamente."})})):i({active:!0,message:"La contrase\xf1a debe tener un largo m\xednimo de 6, tener al menos una mayuscula, una minuscula, un n\xfamero y un s\xedmbolo."}):i({active:!0,message:"La contrase\xf1a no coincide."})},children:[Object(g.jsxs)("h5",{className:"text-white mb-4 text-center",children:[Object(g.jsx)(S.a,{icon:y.r,className:"me-2"}),"Recuperar contrase\xf1a"]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"ejemplo@antalis.cl",ref:d,defaultValue:c})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Nueva contrase\xf1a"}),Object(g.jsx)("input",{type:"password",className:"form-control",ref:j})]}),Object(g.jsxs)("div",{className:"mb-4",children:[Object(g.jsx)("label",{className:"form-label text-white",children:"Ingrese la contrase\xf1a nuevamente"}),Object(g.jsx)("input",{type:"password",className:"form-control",ref:b})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Confirmar"})})]}),Object(g.jsx)("small",{className:"text-white",children:"La contrase\xf1a debe contener al menos:"}),Object(g.jsxs)("ul",{className:"text-white",children:[Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un largo m\xednimo de 6 car\xe1cteres"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Una letra may\xfascula"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Una letra min\xfascula"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un car\xe1cter especial"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un n\xfamero"})})]}),Object(g.jsx)("div",{className:"text-center",children:Object(g.jsxs)("small",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," \u2013 Antalis"]})})]})})]})},G=function(){var e=window.location.search.replace("?","").split("&").reduce((function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e}),{}),t=e.email,c=e.token;return Object(g.jsx)(_,{token:c,mail:t})},J=c(192),Y=c(193),K=c(196),Z=c(194),$=c(200),Q=function(e){var t=e.usersData,c=Object(a.useState)(t.itemsCount),s=Object(m.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)(Math.ceil(n/5)),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(1),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useState)({columnName:"fullname",dir:"asc"}),f=Object(m.a)(h,2),v=f[0],N=f[1],C=Object(a.useState)([]),k=Object(m.a)(C,2),w=k[0],I=k[1];Object(a.useEffect)((function(){p.get("/Accounts/getUsers",{params:{pageSize:5,pageIndex:x,OrderBy:v.columnName,Order:v.dir}}).then((function(e){r(e.data.itemsCount),j(Math.ceil(e.data.itemsCount/5)),I(e.data.data)})).catch((function(e){console.log(e)}))}),[x,v]);var E=function(e){var t=e.target.getAttribute("col"),c="asc";v.columnName==t&&"asc"==v.dir&&(c="des"),N({columnName:t,dir:c})};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(g.jsxs)(i.b,{to:"/manage/users/new",className:"btn btn-primary",children:[Object(g.jsx)(S.a,{icon:y.H}),Object(g.jsx)("span",{className:"d-none d-md-inline ms-2",children:"Nuevo"})]}),Object(g.jsx)("div",{style:{width:"12rem"},children:Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)(S.a,{icon:y.v})}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar..."})]})})]}),Object(g.jsxs)(J.a,{striped:!0,hover:!0,borderless:!0,responsive:!0,className:"mb-0",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"fullname",children:["Nombre","fullname"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"role",children:["Rol","role"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"12rem",cursor:"pointer"},onClick:E,col:"email",children:["Correo electr\xf3nico","email"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"phone",children:["Tel\xe9fono","phone"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"isEnabled",children:["Estado","isEnabled"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsx)("th",{className:"text-center",style:{minWidth:"8rem"},children:"Acciones"})]})}),Object(g.jsx)("tbody",{children:w.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.fullname}),Object(g.jsx)("td",{children:e.role}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{className:"text-center",children:e.phone||Object(g.jsx)(g.Fragment,{children:"\u2013"})}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(Y.a,{pill:!0,bg:e.isEnabled?"success":"danger",children:e.isEnabled?"Activo":"Inactivo"})}),Object(g.jsxs)("td",{className:"text-center",children:[Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Editar usuario"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/users/edit/"+e.id,children:Object(g.jsx)(S.a,{icon:y.l})})}),Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Desactivar cuenta"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center",to:"",children:Object(g.jsx)(S.a,{icon:y.G})})})]})]},t)}))}),Object(g.jsx)("caption",{className:"pb-0",children:Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)("div",{children:["Mostrando elementos ",5*x-5+1," \u2013 ",5*x<n?5*x:n," de ",n]}),Object(g.jsx)("div",{children:Object(g.jsxs)($.a,{size:"sm",children:[Object(g.jsx)($.a.First,{onClick:function(){1!=x&&O(1)}}),Object(g.jsx)($.a.Prev,{onClick:function(){x>1&&O(x-1)}}),Object(g.jsx)($.a.Item,{active:!0,children:x}),Object(g.jsx)($.a.Next,{onClick:function(){x<d&&O(x+1)}}),Object(g.jsx)($.a.Last,{onClick:function(){x!=d&&O(d)}})]})})]})})]})]})},X=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){p.get("/Accounts/getUsers",{}).then((function(e){s(e.data)})).catch((function(e){s({itemsCount:0,pageIndex:1})}))}),[]),c?Object(g.jsx)(Q,{usersData:c}):Object(g.jsx)(z,{})},ee=function(){return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"20rem",minWidth:"20rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.J,className:"me-2"}),"Gestionar usuarios"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(X,{})]})},te=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(ee,{})})},ce=function(e){var t=e.customersData,c=Object(a.useState)(t.itemsCount),s=Object(m.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)(Math.ceil(n/5)),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(1),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useState)({columnName:"fullname",dir:"asc"}),f=Object(m.a)(h,2),v=f[0],N=f[1],C=Object(a.useState)([]),k=Object(m.a)(C,2),w=k[0],I=k[1];Object(a.useEffect)((function(){p.get("/Accounts/getClientes",{params:{pageSize:5,pageIndex:x,OrderBy:v.columnName,Order:v.dir}}).then((function(e){r(e.data.itemsCount),j(Math.ceil(e.data.itemsCount/5)),I(e.data.data)})).catch((function(e){console.log(e)}))}),[x,v]);var E=function(e){var t=e.target.getAttribute("col"),c="asc";v.columnName==t&&"asc"==v.dir&&(c="des"),N({columnName:t,dir:c})};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(g.jsxs)(i.b,{to:"/manage/users/new",className:"btn btn-primary",children:[Object(g.jsx)(S.a,{icon:y.H}),Object(g.jsx)("span",{className:"d-none d-md-inline ms-2",children:"Nuevo"})]}),Object(g.jsx)("div",{style:{width:"12rem"},children:Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)(S.a,{icon:y.v})}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar..."})]})})]}),Object(g.jsxs)(J.a,{striped:!0,hover:!0,borderless:!0,responsive:!0,className:"mb-0",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"fullname",children:["Nombre","fullname"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"codigo",children:["C\xf3digo","codigo"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"12rem",cursor:"pointer"},onClick:E,col:"email",children:["Correo electr\xf3nico","email"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"phone",children:["Tel\xe9fono","phone"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"isEnabled",children:["Estado","isEnabled"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsx)("th",{className:"text-center",style:{minWidth:"8rem"},children:"Acciones"})]})}),Object(g.jsx)("tbody",{children:w.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.fullname}),Object(g.jsx)("td",{children:e.codigo}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{className:"text-center",children:e.phone||Object(g.jsx)(g.Fragment,{children:"\u2013"})}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(Y.a,{pill:!0,bg:e.isEnabled?"success":"danger",children:e.isEnabled?"Activo":"Inactivo"})}),Object(g.jsxs)("td",{className:"text-center",children:[Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Agregar Equipo"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/equipment/add/"+e.id,children:Object(g.jsx)(S.a,{icon:y.u})})}),Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Ver Equipos"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/equipment/"+e.id,children:Object(g.jsx)(S.a,{icon:y.t})})}),Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Editar usuario"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/users/edit/"+e.id,children:Object(g.jsx)(S.a,{icon:y.l})})})]})]},t)}))}),Object(g.jsx)("caption",{className:"pb-0",children:Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)("div",{children:["Mostrando elementos ",5*x-5+1," \u2013 ",5*x<n?5*x:n," de ",n]}),Object(g.jsx)("div",{children:Object(g.jsxs)($.a,{size:"sm",children:[Object(g.jsx)($.a.First,{onClick:function(){1!=x&&O(1)}}),Object(g.jsx)($.a.Prev,{onClick:function(){x>1&&O(x-1)}}),Object(g.jsx)($.a.Item,{active:!0,children:x}),Object(g.jsx)($.a.Next,{onClick:function(){x<d&&O(x+1)}}),Object(g.jsx)($.a.Last,{onClick:function(){x!=d&&O(d)}})]})})]})})]})]})},ae=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){p.get("/Accounts/getClientes",{}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){s({itemsCount:0,pageIndex:1})}))}),[]),c?Object(g.jsx)(ce,{customersData:c}):Object(g.jsx)(z,{})},se=function(){return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"20rem",minWidth:"20rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.I,className:"me-2"}),"Gestionar clientes"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(ae,{})]})},ne=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(se,{})})},re=c(23),ie=c(7),le={control:function(e,t){return Object(ie.a)(Object(ie.a)({},e),{},{boxShadow:t.isFocused?"0 0 0 0.2rem rgba(245, 12, 125, 0.25) !important":e.boxShadow,borderColor:t.isFocused?"#F50C7D !important":e.borderColor})},option:function(e,t){return Object(ie.a)(Object(ie.a)({},e),{},{backgroundColor:t.isSelected?"#F50C7D !important":e.backgroundColor,":hover":Object(ie.a)(Object(ie.a)({},e),{},{backgroundColor:t.isSelected?e.backgroundColor:"rgba(245, 12, 125, 0.25) !important",color:t.isSelected?e.color:"black"}),":not(:hover)":Object(ie.a)(Object(ie.a)({},e),{},{backgroundColor:"white"})})}},oe=function(e){var t=e.to;return Object(g.jsxs)(i.b,{to:t,className:"btn btn-primary mb-2",children:[Object(g.jsx)(S.a,{icon:y.b,className:"me-2"}),"Volver atr\xe1s"]})},de=function(e){var t=e.roles,c=Object(a.useRef)(),s=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(a.useRef)(),d=Object(a.useRef)(),j=Object(a.useRef)(),b=Object(a.useRef)(),u=Object(a.useRef)(),x=Object(a.useRef)(),O=Object(a.useRef)(),h=Object(a.useRef)(),f=Object(a.useState)(null),v=Object(m.a)(f,2),N=v[0],k=v[1],w=Object(a.useState)([]),I=Object(m.a)(w,2),E=I[0],L=I[1],R=Object(a.useState)([]),A=Object(m.a)(R,2),q=A[0],T=A[1];return Object(g.jsxs)("div",{children:[N,Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/manage/users"})}),Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"24rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.H,className:"me-2"}),"Registrar usuario"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),document.querySelectorAll(".field").forEach((function(e){e.value=e.value.trim()}));var t=!1;[n,r].map((function(e){e.current.classList.remove("required-field"),e.current.value||(t=!0,e.current.classList.add("required-field"))}));var c=l.current.getValue(),a=l.current.controlRef;if(a&&a.classList.remove("required-field"),c.length?c=c[0].role:(t=!0,a&&a.classList.add("required-field")),"CLIENTE"==c){[b,O,h].map((function(e){e.current.classList.remove("required-field"),e.current.value||(t=!0,e.current.classList.add("required-field"))}));var s=u.current.getValue(),d=u.current.controlRef;d&&d.classList.remove("required-field"),s.length||(t=!0,d&&d.classList.add("required-field"));var m=x.current.getValue(),f=x.current.controlRef;f&&f.classList.remove("required-field"),m.length||(t=!0,f&&f.classList.add("required-field"))}else"TECNICO"==c&&(j.current.classList.remove("required-field"),o.current.checked&&!j.current.value&&(t=!0,j.current.classList.add("required-field")));if(t)k(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"}));else if("CLIENTE"==c)console.log(u.current),p.post("/Accounts/RegisterCliente",{email:r.current.value,fullName:n.current.value,phone:i.current.value,codigo:b.current.value,region:u.current.getValue()[0].value,comuna:x.current.getValue()[0].value,ciudad:O.current.value,calle:h.current.value}).then((function(e){k(Object(g.jsx)(C,{variant:"success",message:"El usuario ha sido registrado exitosamente",duration:"3000"}))})).catch((function(e){k(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar registrar al usuario. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}));else if("TECNICO"==c){var v=o.current.checked;p.post("/Accounts/RegisterTecnico",{email:r.current.value,fullName:n.current.value,username:r.current.value,phone:i.current.value,password:"Antalis;123",esExterno:v,empresa:v?j.current.value:""}).then((function(e){k(Object(g.jsx)(C,{variant:"success",message:"El usuario ha sido registrado exitosamente",duration:"3000"}))})).catch((function(e){k(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar registrar al usuario. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))}else p.post("/Accounts/RegisterUser",{email:r.current.value,fullName:n.current.value,username:r.current.value,phone:i.current.value,password:"Antalis;123",rolId:l.current.getValue()[0].value}).then((function(e){k(Object(g.jsx)(C,{variant:"success",message:"El usuario ha sido registrado exitosamente",duration:"3000"}))})).catch((function(e){k(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar registrar al usuario. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Nombre"}),Object(g.jsx)("input",{type:"text",name:"userName",maxLength:"50",className:"form-control field",ref:n})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{type:"email",name:"userEmail",className:"form-control field",ref:r})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Tel\xe9fono"}),Object(g.jsx)("input",{type:"text",name:"userPhone",maxLength:"30",className:"form-control field",ref:i})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Rol"}),Object(g.jsx)(re.a,{options:t,styles:le,onChange:function(e){switch(e.role){case"CLIENTE":c.current.classList.remove("d-none"),s.current.classList.add("d-none"),p.get("/Ubicacion/Regiones",{}).then((function(e){L(e.data.map((function(e){return{value:e.id,label:e.name}})))})).catch((function(e){console.log(e)}));break;case"TECNICO":c.current.classList.add("d-none"),s.current.classList.remove("d-none");break;default:c.current.classList.add("d-none"),s.current.classList.add("d-none")}},ref:l,placeholder:"Seleccione un rol",isSearchable:!1,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"d-none mb-3",ref:c,children:[Object(g.jsx)("p",{className:"lead",children:"Informaci\xf3n cliente"}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"C\xf3digo de cliente"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:b})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Regi\xf3n"}),Object(g.jsx)(re.a,{options:E,styles:le,onChange:function(e){x.current.clearValue(),p.get("/Ubicacion/Comunas",{params:{IdRegion:e.value}}).then((function(e){T(e.data.map((function(e){return{value:e.id,label:e.name}})))})).catch((function(e){console.log(e)}))},ref:u,placeholder:"Seleccione una regi\xf3n",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Comuna"}),Object(g.jsx)(re.a,{options:q,styles:le,noOptionsMessage:function(){return"Sin resultados"},placeholder:"Seleccione una comuna",isSearchable:!0,ref:x})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Ciudad"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:O})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Direcci\xf3n"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:h})]})]}),Object(g.jsxs)("div",{className:"d-none mb-3",ref:s,children:[Object(g.jsx)("p",{className:"lead mb-2",children:"Informaci\xf3n t\xe9cnico"}),Object(g.jsxs)("div",{className:"form-check mb-3",children:[Object(g.jsx)("input",{type:"checkbox",className:"form-check-input",onChange:function(e){e.target.checked?d.current.classList.remove("d-none"):d.current.classList.add("d-none")},ref:o}),Object(g.jsx)("label",{className:"form-check-label",children:"Es externo"})]}),Object(g.jsxs)("div",{className:"mb-3 d-none",ref:d,children:[Object(g.jsx)("label",{className:"form-label",children:"Empresa"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:j})]})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Confirmar"})})]})]})]})},je=function(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],l=r[1];return Object(a.useEffect)((function(){p.get("/Accounts/getRoles",{}).then((function(e){l(e.data.map((function(e){return{value:e.id,label:e.name,role:e.normalizedName}}))),s(!1)})).catch((function(e){console.log(e),s(!1)}))}),[]),c?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(de,{roles:i})})},me=function(e){var t=e.user,c=e.roles,s=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(a.useState)(t.isEnabled),d=Object(m.a)(o,2),j=d[0],b=(d[1],Object(a.useState)(null)),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useState)(null),f=Object(m.a)(h,2),v=(f[0],f[1]),N=Object(a.useRef)(),C=Object(a.useRef)(),k=Object(a.useRef)(),w=Object(a.useRef)(),I=Object(a.useRef)(),E=Object(a.useRef)(),L=Object(a.useRef)(),R=Object(a.useRef)(),A=Object(a.useState)(null),q=Object(m.a)(A,2),T=(q[0],q[1],Object(a.useState)([])),D=Object(m.a)(T,2),F=D[0],M=D[1],z=Object(a.useState)([]),V=Object(m.a)(z,2),W=V[0],U=V[1];Object(a.useEffect)((function(){"CLIENTE"==t.role?p.get("/Accounts/GetCliente",{params:{IdUser:t.id}}).then((function(e){console.log("GetCliente"),O(e.data),H()})).catch((function(e){console.log(e)})):"TECNICO"==t.role&&p.get("/Accounts/GetTecnico",{params:{IdUser:t.id}}).then((function(e){console.log(e),v(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(a.useEffect)((function(){x&&(I.current.setValue(F.find((function(e){return e.value==x.region}))),P({value:x.region}))}),[F]),Object(a.useEffect)((function(){x&&E.current.setValue(W.find((function(e){return e.value==x.comuna})))}),[W]);var H=function(){p.get("/Ubicacion/Regiones",{}).then((function(e){M(e.data.map((function(e){return{value:e.id,label:e.name}})))})).catch((function(e){console.log(e)}))},P=function(e){console.log(e),E.current.clearValue(),p.get("/Ubicacion/Comunas",{params:{IdRegion:e.value}}).then((function(e){U(e.data.map((function(e){return{value:e.id,label:e.name}})))})).catch((function(e){console.log(e)}))};return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/manage/users"})}),Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"24rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.F,className:"me-2"}),"Editar usuario"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Nombre"}),Object(g.jsx)("input",{type:"text",name:"userName",maxLength:"50",className:"form-control field",ref:r,defaultValue:t.fullname})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{type:"email",name:"userEmail",className:"form-control field",ref:i,defaultValue:t.email})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Tel\xe9fono"}),Object(g.jsx)("input",{type:"text",name:"userPhone",maxLength:"30",className:"form-control field",defaultValue:t.phone})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Rol"}),Object(g.jsx)(re.a,{options:c,styles:le,onChange:function(e){switch(e.role){case"CLIENTE":s.current.classList.remove("d-none"),n.current.classList.add("d-none"),H();break;case"TECNICO":s.current.classList.add("d-none"),n.current.classList.remove("d-none");break;default:s.current.classList.add("d-none"),n.current.classList.add("d-none")}},ref:l,placeholder:"Seleccione un rol",isSearchable:!1,noOptionsMessage:function(){return"Sin resultados"},defaultValue:c.filter((function(e){return e.role==t.role}))})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("span",{className:"me-2",children:"Estado"}),Object(g.jsx)(Y.a,{pill:!0,bg:j?"success":"danger",children:j?"Activo":"Inactivo"})]}),Object(g.jsxs)("div",{ref:s,className:"mb-3 "+("CLIENTE"==t.role?"":"d-none"),children:[Object(g.jsx)("p",{className:"lead",children:"Informaci\xf3n cliente"}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"C\xf3digo de cliente"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:w,defaultValue:x?x.codigo:""})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Regi\xf3n"}),Object(g.jsx)(re.a,{options:F,styles:le,onChange:P,ref:I,placeholder:"Seleccione una regi\xf3n",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Comuna"}),Object(g.jsx)(re.a,{options:W,styles:le,noOptionsMessage:function(){return"Sin resultados"},placeholder:"Seleccione una comuna",isSearchable:!0,ref:E})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Ciudad"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:L})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Direcci\xf3n"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:R,defaultValue:x?x.calle:""})]})]}),Object(g.jsxs)("div",{ref:n,className:"mb-3 "+("TECNICO"==t.role?"":"d-none"),children:[Object(g.jsx)("p",{className:"lead mb-2",children:"Informaci\xf3n t\xe9cnico"}),Object(g.jsxs)("div",{className:"form-check mb-3",children:[Object(g.jsx)("input",{type:"checkbox",className:"form-check-input",onChange:function(e){e.target.checked?C.current.classList.remove("d-none"):C.current.classList.add("d-none")},ref:N}),Object(g.jsx)("label",{className:"form-check-label",children:"Es externo"})]}),Object(g.jsxs)("div",{className:"mb-3 d-none",ref:C,children:[Object(g.jsx)("label",{className:"form-label",children:"Empresa"}),Object(g.jsx)("input",{type:"text",className:"form-control field",ref:k})]})]}),Object(g.jsxs)("div",{className:"d-grid",children:[j?Object(g.jsx)("button",{className:"btn btn-outline-danger mb-2",children:"Desactivar cuenta"}):Object(g.jsx)("button",{className:"btn btn-outline-success mb-2",children:"Activar cuenta"}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar cambios"})]})]})]})]})},be=function(e){var t=e.match,c=Object(a.useState)(null),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){p.get("/Accounts/getUser",{params:{IdUser:t.params.id}}).then((function(e){p.get("/Accounts/getRoles",{}).then((function(t){d(t.data.map((function(e){return{value:e.id,label:e.name,role:e.normalizedName}}))),r(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}),[]),n?Object(g.jsx)(U,{content:Object(g.jsx)(me,{user:n,roles:o})}):Object(g.jsx)(N,{})},ue=function(e){var t=e.equipmentData,c=e.match,s=Object(a.useState)(t.itemsCount),n=Object(m.a)(s,2),r=n[0],l=n[1],o=Object(a.useState)(Math.ceil(r/5)),d=Object(m.a)(o,2),j=d[0],b=d[1],u=Object(a.useState)(1),x=Object(m.a)(u,2),O=x[0],h=x[1],f=Object(a.useState)({columnName:"marca",dir:"asc"}),v=Object(m.a)(f,2),N=v[0],C=v[1],k=Object(a.useState)([]),w=Object(m.a)(k,2),I=w[0],E=w[1];Object(a.useEffect)((function(){p.get("/OrdenTrabajo/GetEquipos",{params:{IdCliente:c.params.id,pageSize:5,pageIndex:O,OrderBy:N.columnName,Order:N.dir}}).then((function(e){l(e.data.itemsCount),b(Math.ceil(e.data.itemsCount/5)),E(e.data.data)})).catch((function(e){console.log(e)}))}),[O,N]);var L=function(e){var t=e.target.getAttribute("col"),c="asc";N.columnName==t&&"asc"==N.dir&&(c="des"),C({columnName:t,dir:c})};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(g.jsxs)(i.b,{to:"/manage/equipment/add/"+c.params.id,className:"btn btn-primary",children:[Object(g.jsx)(S.a,{icon:y.u}),Object(g.jsx)("span",{className:"d-none d-md-inline ms-2",children:"Nuevo"})]}),Object(g.jsx)("div",{style:{width:"12rem"},children:Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)(S.a,{icon:y.v})}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar..."})]})})]}),Object(g.jsxs)(J.a,{striped:!0,hover:!0,borderless:!0,responsive:!0,className:"mb-0",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:L,col:"marca",children:["Marca","marca"==N.columnName?Object(g.jsx)(S.a,{icon:"asc"==N.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:L,col:"modelo",children:["Modelo","modelo"==N.columnName?Object(g.jsx)(S.a,{icon:"asc"==N.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:L,col:"serie",children:["N\xfamero de serie","serie"==N.columnName?Object(g.jsx)(S.a,{icon:"asc"==N.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:L,col:"contrato",children:["Contrato","contrato"==N.columnName?Object(g.jsx)(S.a,{icon:"asc"==N.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:L,col:"vigencia",children:["Vigencia","vigencia"==N.columnName?Object(g.jsx)(S.a,{icon:"asc"==N.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsx)("th",{className:"text-center",style:{minWidth:"8rem"},children:"Acciones"})]})}),Object(g.jsx)("tbody",{children:I.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.marca}),Object(g.jsx)("td",{children:e.modelo}),Object(g.jsx)("td",{children:e.serie}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(Y.a,{pill:!0,bg:e.contrato?"success":"warning",children:e.contrato?"SI":"NO"})}),Object(g.jsx)("td",{className:"text-center",children:"--"===e.vigencia?Object(g.jsx)(Y.a,{pill:!0,bg:"warning",children:"No Aplica"}):e.vigencia}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Editar Equipo"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/equipment/edit/"+e.id,children:Object(g.jsx)(S.a,{icon:y.l})})})})]},t)}))}),Object(g.jsx)("caption",{className:"pb-0",children:Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)("div",{children:["Mostrando elementos ",5*O-5+1," \u2013 ",5*O<r?5*O:r," de ",r]}),Object(g.jsx)("div",{children:Object(g.jsxs)($.a,{size:"sm",children:[Object(g.jsx)($.a.First,{onClick:function(){1!=O&&h(1)}}),Object(g.jsx)($.a.Prev,{onClick:function(){O>1&&h(O-1)}}),Object(g.jsx)($.a.Item,{active:!0,children:O}),Object(g.jsx)($.a.Next,{onClick:function(){O<j&&h(O+1)}}),Object(g.jsx)($.a.Last,{onClick:function(){O!=j&&h(j)}})]})})]})})]})]})},xe=function(e){var t=e.match,c=Object(a.useState)([]),s=Object(m.a)(c,2),n=s[0],r=s[1];return Object(a.useEffect)((function(){p.get("/OrdenTrabajo/GetEquipos",{params:{IdCliente:t.params.id}}).then((function(e){r(e.data)})).catch((function(e){r({itemsCount:0,pageIndex:1})}))}),[]),n?Object(g.jsx)(ue,{equipmentData:n,match:t}):Object(g.jsx)(z,{})},Oe=function(e){var t=e.name,c=e.match;return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"20rem",minWidth:"20rem"},children:[Object(g.jsxs)("div",{className:"px-2",children:[Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.s,className:"me-2"}),"Gestionar equipos: ",Object(g.jsx)("span",{className:"text-primary",children:t})]}),Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/manage/customers"})})]}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(xe,{match:c})]})},he=function(e){var t=e.match,c=Object(a.useState)(""),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!0),l=Object(m.a)(i,2),o=(l[0],l[1]);return Object(a.useEffect)((function(){p.get("/Accounts/getUser",{params:{IdUser:t.params.id}}).then((function(e){r(e.data.fullname),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),[]),Object(g.jsx)(U,{content:Object(g.jsx)(Oe,{name:n,match:t})})},fe=function(e){var t=e.match,c=e.name,s=(Object(l.f)(),Object(a.useRef)()),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),o=Object(a.useRef)(),d=Object(a.useRef)(),j=Object(a.useState)(null),b=Object(m.a)(j,2),u=b[0],x=b[1];return Object(g.jsxs)("div",{children:[u,Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/manage/customers"})}),Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"30rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.s,className:"me-2"}),Object(g.jsx)("strong",{className:"text-primary",children:c}),Object(g.jsx)("br",{}),Object(g.jsx)("p",{className:"text-muted",children:"Agregar equipo"})]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),document.querySelectorAll(".field").forEach((function(e){e.value=e.value.trim()}));var c={},a=!1;i.current.checked?([s,n,r,o].map((function(e){e.current.classList.remove("required-field"),e.current.value||(a=!0,e.current.classList.add("required-field"))})),c={marca:s.current.value,modelo:n.current.value,serie:r.current.value,contrato:i.current.checked,vigencia:o.current.value,clienteId:t.params.id}):([s,n,r].map((function(e){e.current.classList.remove("required-field"),e.current.value||(a=!0,e.current.classList.add("required-field"))})),c={marca:s.current.value,modelo:n.current.value,serie:r.current.value,contrato:i.current.checked,clienteId:t.params.id});a?x(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):p.post("/OrdenTrabajo/CreateEquipo",c).then((function(e){x(Object(g.jsx)(C,{variant:"success",message:"El equipo ha sido agregado correctamente",duration:"3000"})),s.current.value="",n.current.value="",r.current.value="",i.current.value="",o.current.checked=""})).catch((function(e){x(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar agregar el equipo. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Marca"}),Object(g.jsx)("input",{type:"text",name:"brand",maxLength:"50",className:"form-control field",ref:s})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Modelo"}),Object(g.jsx)("input",{type:"text",name:"model",className:"form-control field",ref:n})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"N\xfamero de Serie"}),Object(g.jsx)("input",{type:"text",name:"serie",maxLength:"30",className:"form-control field",ref:r})]}),Object(g.jsxs)("div",{className:"form-check mb-3",children:[Object(g.jsx)("input",{type:"checkbox",className:"form-check-input",id:"contractCheck",ref:i,onChange:function(e){e.target.checked?d.current.classList.remove("d-none"):d.current.classList.add("d-none")}}),Object(g.jsx)("label",{className:"form-check-label",htmlFor:"contractCheck",children:"\xbfCon contrato?"})]}),Object(g.jsxs)("div",{className:"mb-3 d-none",ref:d,children:[Object(g.jsx)("label",{className:"form-label",children:"Vigencia"}),Object(g.jsx)("input",{type:"date",name:"vigencia",maxLength:"30",className:"form-control field",ref:o})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Confirmar"})})]})]})]})},pe=function(e){var t=e.match,c=Object(a.useState)(!0),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(""),l=Object(m.a)(i,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){p.get("/Accounts/getUser",{params:{IdUser:t.params.id}}).then((function(e){d(e.data.fullname),r(!1)})).catch((function(e){console.log(e),r(!1)}))}),[]),n?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(fe,{match:t,name:o})})},ve=function(e){var t=e.match,c=e.dataEquipment,s=Object(a.useRef)(),n=Object(a.useRef)(),r=Object(a.useRef)(),i=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(a.useRef)(),d=Object(a.useState)(null),j=Object(m.a)(d,2),b=j[0],u=j[1];return Object(g.jsxs)("div",{children:[b,Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/manage/equipment/"+c.clienteId})}),Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"30rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0",children:[Object(g.jsx)(S.a,{icon:y.s,className:"me-2"}),"Editar equipo"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),document.querySelectorAll(".field").forEach((function(e){e.value=e.value.trim()}));var c={},a=!1;i.current.checked?([s,n,r,l].map((function(e){e.current.classList.remove("required-field"),e.current.value||(a=!0,e.current.classList.add("required-field"))})),c={marca:s.current.value,modelo:n.current.value,serie:r.current.value,contrato:i.current.checked,vigencia:l.current.value,clienteId:t.params.id}):([s,n,r].map((function(e){e.current.classList.remove("required-field"),e.current.value||(a=!0,e.current.classList.add("required-field"))})),c={marca:s.current.value,modelo:n.current.value,serie:r.current.value,contrato:i.current.checked,clienteId:t.params.id});a?u(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):p.post("/OrdenTrabajo/CreateEquipo",c).then((function(e){u(Object(g.jsx)(C,{variant:"success",message:"El equipo ha sido agregado correctamente",duration:"3000"})),s.current.value="",n.current.value="",r.current.value="",i.current.value="",l.current.checked=""})).catch((function(e){u(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar agregar el equipo. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Marca"}),Object(g.jsx)("input",{type:"text",name:"brand",maxLength:"50",className:"form-control field",ref:s,defaultValue:c.marca})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Modelo"}),Object(g.jsx)("input",{type:"text",name:"model",className:"form-control field",ref:n,defaultValue:c.modelo})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"N\xfamero de Serie"}),Object(g.jsx)("input",{type:"text",name:"serie",maxLength:"30",className:"form-control field",ref:r,defaultValue:c.serie})]}),Object(g.jsxs)("div",{className:"form-check mb-3",children:[Object(g.jsx)("input",{type:"checkbox",className:"form-check-input",id:"contractCheck",ref:i,onChange:function(e){e.target.checked?o.current.classList.remove("d-none"):o.current.classList.add("d-none")},defaultChecked:c.contrato}),Object(g.jsx)("label",{className:"form-check-label",htmlFor:"contractCheck",children:"\xbfCon contrato?"})]}),Object(g.jsxs)("div",{className:"mb-3 "+(c.contrato?"":"d-none"),ref:o,children:[Object(g.jsx)("label",{className:"form-label",children:"Vigencia"}),Object(g.jsx)("input",{type:"date",name:"vigencia",className:"form-control field",ref:l,defaultValue:c.contrato?new Date(c.vigencia).toISOString().substr(0,10):null})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Confirmar"})})]})]})]})},ge=function(e){var t=e.match,c=Object(a.useState)(!0),s=Object(m.a)(c,2),n=(s[0],s[1]),r=Object(a.useState)(null),i=Object(m.a)(r,2),l=i[0],o=i[1];return Object(a.useEffect)((function(){p.get("/OrdenTrabajo/GetEquipo",{params:{IdEquipo:t.params.id}}).then((function(e){o(e.data),n(!1)})).catch((function(e){console.log(e),n(!1)}))}),[]),l?Object(g.jsx)(U,{content:Object(g.jsx)(ve,{match:t,dataEquipment:l})}):Object(g.jsx)(z,{})},Ne=function(e){var t=e.equipmentUser,c=e.regiones,s=Object(a.useState)([]),n=Object(m.a)(s,2),r=n[0],i=n[1],l=Object(a.useState)(null),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useRef)(),u=Object(a.useRef)(),x=Object(a.useRef)(),O=Object(a.useRef)(),h=Object(a.useRef)();return Object(g.jsxs)("div",{children:[d,Object(g.jsx)("div",{className:"my-2",children:Object(g.jsx)(oe,{to:"/home"})}),Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"60rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.o,className:"me-2"}),"Crear solicitud"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),document.querySelectorAll(".field").forEach((function(e){e.value=e.value.trim()}));var t=!1,c=u.current.getValue(),a=u.current.controlRef;a&&a.classList.remove("required-field"),c.length?c=c[0].equipment:(t=!0,a&&a.classList.add("required-field"));var s=x.current.getValue(),n=x.current.controlRef;n&&n.classList.remove("required-field"),s.length?s=s[0].region:(t=!0,n&&n.classList.add("required-field"));var r=O.current.getValue(),i=O.current.controlRef;i&&i.classList.remove("required-field"),r.length?r=r[0].comuna:(t=!0,i&&i.classList.add("required-field")),[b,h].map((function(e){e.current.classList.remove("required-field"),e.current.value||(t=!0,e.current.classList.add("required-field"))})),t?j(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):p.post("/OrdenTrabajo/CreateSolicitud",{descripcion:b.current.value,equipoId:u.current.getValue()[0].value,regionId:x.current.getValue()[0].value,comunaId:O.current.getValue()[0].value,calle:h.current.value}).then((function(e){b.current.value="",h.current.value="",O.current.clearValue(),j(Object(g.jsx)(C,{variant:"success",message:"La solicitud ha sido ingresada con \xe9xito.",duration:"3000"}))})).catch((function(e){j(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar ingresar la solicitud. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Seleccione el equipo asociado a la solicitud"}),Object(g.jsx)(re.a,{options:t,styles:le,ref:u,placeholder:"Seleccione...",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Regi\xf3n"}),Object(g.jsx)(re.a,{options:c,styles:le,onChange:function(e){i([]),O.current.clearValue(),p.get("/Ubicacion/Comunas",{params:{IdRegion:e.value}}).then((function(e){i(e.data.map((function(e){return{value:e.id,label:e.name}})))})).catch((function(e){console.log(e)}))},placeholder:"Seleccione una regi\xf3n...",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"},ref:x})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Comuna"}),Object(g.jsx)(re.a,{options:r,styles:le,placeholder:"Seleccione una regi\xf3n...",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"},ref:O})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Calle"}),Object(g.jsx)("input",{type:"text",name:"userName",maxLength:"50",className:"form-control field",ref:h,placeholder:"ej: Calle 001"})]}),Object(g.jsxs)("div",{className:"form-group mb-4",children:[Object(g.jsx)("label",{className:"mb-3",htmlFor:"description",children:"Descripci\xf3n"}),Object(g.jsx)("textarea",{className:"form-control",id:"description",rows:"6",ref:b})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Confirmar"})})]})]})]})},ye=function(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)([]),d=Object(m.a)(o,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){p.get("/OrdenTrabajo/GetMyEquipos",{}).then((function(e){b(e.data.data.map((function(e){return{value:e.id,label:"Marca: "+e.marca+" | Modelo: "+e.modelo+" | Serie: "+e.serie}})))})).catch((function(e){console.log(e),s(!1)})),p.get("/Ubicacion/Regiones",{}).then((function(e){l(e.data.map((function(e){return{value:e.id,label:e.name}}))),s(!1)})).catch((function(e){console.log(e),s(!1)})),s(!1)}),[]),c?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(Ne,{equipmentUser:j,regiones:i})})},Se=c(77),Ce=function(){var e=L();return Object(g.jsxs)("div",{className:"row p-4 justify-content-center",children:[alert,Object(g.jsxs)("h1",{className:"text-secondary text-center text-bold",children:["\xa1BIENVENIDO ",Object(g.jsx)("span",{className:"text-primary",children:e.fullname.toUpperCase()}),"!"]}),Object(g.jsx)("div",{className:"card col-12 col-md-5 m-3",style:{minHeight:"20rem"},children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h3",{className:"card-title text-primary",children:[Object(g.jsx)("span",{className:"text-secondary",children:"Video:"})," \xbfSab\xeda qu\xe9?"]}),Object(g.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Descubre por qu\xe9 la industria del papel es una de las industrias m\xe1s eco-responsable y contribuye a la reforestaci\xf3n. \xbfQuieres saber m\xe1s?"}),Object(g.jsx)("div",{className:"video-responsive",children:Object(g.jsx)("iframe",{src:"https://www.youtube.com/embed/WSXhkV3FNqI",frameborder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video"})})]})}),Object(g.jsx)("div",{className:"card col-12 col-md-5 m-3",style:{minHeight:"15rem"},children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h3",{className:"card-title text-primary",children:"Card 2"}),Object(g.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Subtitulo"})]})}),Object(g.jsx)("div",{className:"card col-12 col-md-6 m-3",style:{minHeight:"15rem"},children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h3",{className:"card-title text-primary",children:"Card 1"}),Object(g.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Subtitulo"})]})}),Object(g.jsx)("div",{className:"card col-12 col-md-4 m-3",style:{minHeight:"15rem"},children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h3",{className:"card-title text-primary",children:"S\xedguenos"}),Object(g.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"En nuestras redes sociales"}),Object(g.jsxs)("div",{className:"mt-5",style:{width:"100%",textAlign:"center",lineHeight:"100px"},children:[Object(g.jsx)("a",{href:"https://www.linkedin.com/company/antalis/",target:"_blank",rel:"noreferrer",className:"card-link text-secondary",children:Object(g.jsx)(S.a,{size:"3x",icon:Se.c})}),Object(g.jsx)("a",{href:"https://twitter.com/Antalischile",target:"_blank",rel:"noreferrer",className:"card-link text-secondary",children:Object(g.jsx)(S.a,{size:"3x",icon:Se.d})}),Object(g.jsx)("a",{href:"https://www.facebook.com/AntalisChile/",target:"_blank",rel:"noreferrer",className:"card-link text-secondary",children:Object(g.jsx)(S.a,{size:"3x",icon:Se.a})}),Object(g.jsx)("a",{href:"https://www.instagram.com/antalischile/?hl=es",target:"_blank",rel:"noreferrer",className:"card-link text-secondary",children:Object(g.jsx)(S.a,{size:"3x",icon:Se.b})})]})]})})]})},ke=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(Ce,{})})},we=c(29),Ie=c.n(we),Ee=(c(112),function(e){var t=e.duration,c=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var c=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?c:3&c|8).toString(16)}))}(),s=Object(a.useRef)();return Object(a.useEffect)((function(){setInterval((function(){s.current&&(s.current.classList.remove("alert-fade-in"),s.current.classList.add("alert-fade-out"))}),t)}),[]),Object(g.jsx)("div",{className:"alert alert-secondary alert-fade-in",role:"alert",style:{position:"fixed",zIndex:"100000",right:"1em",bottom:"1em",borderRadius:"100%"},ref:s,children:Object(g.jsx)("div",{className:"spinner-border",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},c)}),Le=function(e){var t=e.url,c=e.parameters,s=Object(a.useState)([]),n=Object(m.a)(s,2),r=n[0],l=n[1],o=Object(a.useState)(null),d=Object(m.a)(o,2),j=d[0],b=d[1];Ie()().locale("es");var u=Object(a.useRef)(),x=function(){b(Object(g.jsx)(Ee,{variant:"info",duration:"500"})),p.get(t,{params:{Solicitud:u.current.value}}).then((function(e){l(e.data)})).catch((function(e){console.log(e),b(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error. Intente nuevamente",duration:"500"}))}))};return Object(a.useEffect)((function(){b(Object(g.jsx)(Ee,{variant:"info",duration:"500"})),p.get(t,c).then((function(e){console.log(e.data),l(e.data)})).catch((function(e){console.log(e),b(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error. Intente nuevamente",duration:"500"}))}))}),[]),Object(g.jsxs)("div",{children:[j,Object(g.jsx)("div",{className:"w-100",style:{position:"relative"},children:Object(g.jsxs)("div",{className:"input-group mb-3",style:{width:"22rem",marginRight:"0px",marginLeft:"auto"},children:[Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...","aria-label":"Buscar","aria-describedby":"buttonSearch",ref:u,onKeyDown:function(e){return"Enter"===e.key?x():null}}),Object(g.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"buttonSearch",onClick:x,children:Object(g.jsx)(S.a,{icon:y.v,className:""})})]})}),r.map((function(e){return Object(g.jsx)("div",{className:"card mb-4",style:{minHeight:"15rem"},children:Object(g.jsxs)("div",{className:"card-body",style:{position:"relative"},children:[Object(g.jsxs)("h3",{className:"text-secondary h3-request",children:["Solicitud ",Object(g.jsxs)("span",{className:"text-primary",children:[e.marca," ",e.modelo]})," ",Object(g.jsxs)("span",{className:"text-muted h3-span-request",children:["Serie: ",e.serie]})]}),Object(g.jsx)("hr",{}),"79b12fb2-f9ff-4a7a-ba4a-0da48637442f"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-info",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue ingresada en el sistema pero no ha sido atendida.",children:e.estado}):null,"7b6aba68-70e6-4174-98b5-67232808b29d"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-success",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue atendida y est\xe1 en curso.",children:e.estado}):null,"bc4edb94-0c87-4845-85a3-4b9317a2923e"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-dark",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue completada y est\xe1 cerrada.",children:e.estado}):null,Object(g.jsxs)("div",{className:"text-muted dates-request",children:["Fecha de creaci\xf3n: ",Ie()(e.fechaCreacion).format("DD-MM-yyyy HH:mm")]}),Object(g.jsx)(i.b,{className:"btn btn-primary float-btn-request",to:"79b12fb2-f9ff-4a7a-ba4a-0da48637442f"===e.estadoId?"/otrequest/view/".concat(e.id):"/ot/view/".concat(e.id),children:"Abrir"})]})},e.id)}))]})},Re=function(){return Object(g.jsxs)("div",{className:"card p-3 bg-white mx-auto",style:{minHeight:"20rem",minWidth:"20rem",maxWidth:"80rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.n,className:"me-2"}),"Mis solicitudes"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(Le,{url:"/OrdenTrabajo/MisSolicitudes",parameters:{}})]})},Ae=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(Re,{})})},qe=c.p+"static/media/user-icon-secondary.72089ac2.svg",Te=function(e){var t=e.userData,c=(e.setReloadData,Object(a.useState)(null)),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!0),l=Object(m.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)(!1),b=Object(m.a)(j,2),u=b[0],x=b[1];console.log(t);var O=Object(a.useRef)(!1),h=Object(a.useRef)(),f=Object(a.useRef)(),v=(Object(a.useRef)(),Object(a.useRef)()),N=Object(a.useRef)(),k=Object(a.useRef)(),w=Object(a.useRef)(),I=Object(a.useRef)(),E=function(){document.querySelectorAll(".field").forEach((function(e){e.value=e.value.trim()}))},L=function(){switch(x(!u),u){case!1:h.current.classList.remove("d-none"),h.current.classList.add("d-none"),f.current.classList.add("d-none"),f.current.classList.remove("d-none");break;case!0:h.current.classList.add("d-none"),h.current.classList.remove("d-none"),f.current.classList.remove("d-none"),f.current.classList.add("d-none");break;default:O.current.classList.add("d-none"),O.current.classList.add("d-none")}};return Object(g.jsxs)("div",{children:[n,Object(g.jsxs)("div",{className:"card p-4 bg-white mx-auto",style:{maxWidth:"30rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.C,className:"me-2"}),"Mi cuenta"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("div",{className:"mb-3",style:{textAlign:"center"},ref:h,children:[Object(g.jsx)("img",{className:"mb-3",src:qe,alt:"Logo",width:"100",style:{color:"#ffff"}}),Object(g.jsxs)("div",{className:"mb-4",style:{lineHeight:"0.8"},children:[Object(g.jsx)("p",{style:{fontWeight:"bold"},children:"Nombre"}),Object(g.jsx)("p",{className:"pl-4 d-block",children:t.fullname})]}),Object(g.jsxs)("div",{className:"mb-3",style:{lineHeight:"0.8"},children:[Object(g.jsx)("p",{style:{fontWeight:"bold"},children:"Correo electr\xf3nico"}),Object(g.jsx)("p",{className:"pl-4 d-block",children:t.email})]}),Object(g.jsxs)("div",{className:"mb-3",style:{lineHeight:"0.8"},children:[Object(g.jsx)("p",{style:{fontWeight:"bold"},children:"T\xe9lefono"}),Object(g.jsx)("p",{className:"pl-4 d-block",children:t.phone?t.phone:"Sin datos"})]}),"TECNICO"==t.role&&!0===t.esExterno?Object(g.jsxs)("div",{className:"mb-3",style:{lineHeight:"0.8"},children:[Object(g.jsx)("p",{style:{fontWeight:"bold"},children:"Empresa"}),Object(g.jsx)("p",{className:"pl-4 d-block",children:t.empresa?t.empresa:"Sin datos"})]}):null,Object(g.jsx)("div",{className:"d-grid mt-5",children:Object(g.jsxs)("button",{className:"btn btn-primary",type:"button",onClick:L,children:[Object(g.jsx)(S.a,{icon:y.l,className:"me-2"}),"Editar cuenta"]})})]}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(),r(Object(g.jsx)(C,{variant:"info",message:"Cargando...",duration:"3000"}));var c=!1;[v,N].map((function(e){e.current.classList.remove("required-field"),e.current.value||(c=!0,e.current.classList.add("required-field"))})),c?r(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):p.post("/Accounts/EditMyAccount",{email:v.current.value,phone:N.current.value}).then((function(e){p.get("/Accounts/currentUser",{}).then((function(e){var t=e.data;localStorage.setItem("current_user",JSON.stringify(t))})),t.email=v.current.value,t.phone=N.current.value,r(Object(g.jsx)(C,{variant:"success",message:"Se han cambiado los datos correctamente",duration:"3000"})),L()})).catch((function(e){r(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar editar sus datos. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},className:"mb-3 d-none",ref:f,children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Correo electr\xf3nico"}),Object(g.jsx)("input",{type:"email",name:"userEmail",className:"form-control field",ref:v,defaultValue:t.email})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Tel\xe9fono"}),Object(g.jsx)("input",{type:"text",name:"userPhone",maxLength:"30",className:"form-control field",ref:N,defaultValue:t.phone})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-primary",value:"Confirmar cambios"})}),Object(g.jsxs)("a",{className:"link-primary mt-3 d-block",style:{cursor:"pointer"},onClick:L,children:[" ",Object(g.jsx)(S.a,{icon:y.b,className:"me-2"}),"Cancelar cambios"]})]}),Object(g.jsx)("p",{className:"d-grid",children:Object(g.jsx)("button",{className:"btn btn-block text-white",type:"button",onClick:function(){switch(d(!o),o){case!1:O.current.classList.remove("d-none"),O.current.classList.add("d-none");break;case!0:O.current.classList.add("d-none"),O.current.classList.remove("d-none");break;default:O.current.classList.add("d-none"),O.current.classList.add("d-none")}},style:{background:"#5A6268"},children:"Cambiar contrase\xf1a"})}),Object(g.jsx)("div",{className:"d-none",ref:O,children:Object(g.jsxs)("form",{className:"card card-body",onSubmit:function(e){e.preventDefault(),E();var t=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*;\xa1\xf1])(?=.{6,})"),c=!1;[k,w,I].map((function(e){e.current.classList.remove("required-field"),e.current.value||(c=!0,e.current.classList.add("required-field")),c?r(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):w.current.value===I.current.value?t.test(w.current.value)?p.post("/Auth/ChangePassword",{currentPassword:k.current.value,newPassword:w.current.value,confirmNewPassword:I.current.value}).then((function(e){k.current.value="",w.current.value="",I.current.value="",r(Object(g.jsx)(C,{variant:"success",message:"La contrase\xf1a se ha actualizado correctamente",duration:"3000"}))})).catch((function(e){e.response.data.errors.includes("Optimistic concurrency failure, object has been modified.")?r(Object(g.jsx)(C,{variant:"success",message:"La contrase\xf1a se ha actualizado correctamente",duration:"3000"})):e.response.data.errors.includes("Incorrect password.")?r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a actual no es correcta.",duration:"3000"})):e.response.data.errors.includes("Passwords must have at least one non alphanumeric character.")?r(Object(g.jsx)(C,{variant:"danger",message:"La nueva contrase\xf1a debe tener almenos un caracter especial (!\xa1@#$%)",duration:"3000"})):e.response.data.errors.includes("Passwords must have at least one digit ('0'-'9').")?r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a debe tener al menos un d\xedgito",duration:"3000"})):e.response.data.errors.includes("Passwords must have at least one uppercase ('A'-'Z').")?r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a debe tener al menos una letra may\xfascula",duration:"3000"})):e.response.data.errors.includes("Passwords must have at least one lowercase ('a'-'z').")?r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a debe tener al menos una letra min\xfascula",duration:"3000"})):e.response.data.errors.includes("Passwords must be at least 6 characters.")?r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a debe tener al menos un largo de 6 car\xe1cteres",duration:"3000"})):r(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error mientras se intentaba cambiar la contrase\xf1a, intente nuevamente",duration:"3000"}))})):r(Object(g.jsx)(C,{variant:"danger",message:"La contrase\xf1a debe cumplir con los requisitos mencionados",duration:"3000"})):r(Object(g.jsx)(C,{variant:"danger",message:"Los campos contrase\xf1a nueva y confirmar contrase\xf1a deben ser iguales",duration:"3000"}))}))},children:[Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Contrase\xf1a actual"}),Object(g.jsx)("input",{type:"password",name:"userPhone",maxLength:"30",className:"form-control field",ref:k})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Contrase\xf1a nueva"}),Object(g.jsx)("input",{type:"password",name:"userPhone",maxLength:"30",className:"form-control field",ref:w})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Confirme nueva contrase\xf1a"}),Object(g.jsx)("input",{type:"password",name:"userPhone",maxLength:"30",className:"form-control field",ref:I})]}),Object(g.jsx)("div",{className:"d-grid",children:Object(g.jsx)("input",{type:"submit",className:"btn btn-secondary",value:"Cambiar"})}),Object(g.jsx)("small",{className:"text-muted mt-3",children:"La contrase\xf1a debe contener al menos:"}),Object(g.jsxs)("ul",{className:"text-muted",children:[Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un largo m\xednimo de 6 car\xe1cteres"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Una letra may\xfascula"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Una letra min\xfascula"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un car\xe1cter especial"})}),Object(g.jsx)("li",{children:Object(g.jsx)("small",{children:"Un n\xfamero"})})]})]})})]})]})},De=function(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(m.a)(n,2),i=r[0],l=r[1],o=Object(a.useState)(!1),d=Object(m.a)(o,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){var e=L();"Tecnico"===R()?p.get("/Accounts/GetTecnico",{params:{IdUser:e.id}}).then((function(e){l(e.data),s(!1),console.log(i)})).catch((function(e){console.log(e),s(!1)})):(l(L()),s(!1))}),[j]),c?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(Te,{userData:i,setReloadData:b})})},Fe=function(){return Object(g.jsx)("div",{id:"notfound",children:Object(g.jsxs)("div",{className:"notfound",children:[Object(g.jsxs)("div",{className:"notfound404",children:[Object(g.jsx)("h3",{children:"UPS! Esta p\xe1gina no existe. \u2639\ufe0f"}),Object(g.jsxs)("h1",{children:[Object(g.jsx)("span",{children:"4"}),Object(g.jsx)("span",{children:"0"}),Object(g.jsx)("span",{children:"4"})]})]}),Object(g.jsx)("h2",{children:"Lo sentimos, puede que esta p\xe1gina no exista o no est\xe9 disponible, siga navegando."})]})})},Me=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(Fe,{})})},ze=function(e){var t=e.usersData,c=Object(a.useState)(t.itemsCount),s=Object(m.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)(Math.ceil(n/5)),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(1),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useState)({columnName:"fullname",dir:"asc"}),f=Object(m.a)(h,2),v=f[0],N=f[1],C=Object(a.useState)([]),k=Object(m.a)(C,2),w=k[0],I=k[1];Object(a.useEffect)((function(){p.get("/Accounts/getTecnicos",{params:{pageSize:5,pageIndex:x,OrderBy:v.columnName,Order:v.dir}}).then((function(e){r(e.data.itemsCount),j(Math.ceil(e.data.itemsCount/5)),I(e.data.data)})).catch((function(e){console.log(e)}))}),[x,v]);var E=function(e){var t=e.target.getAttribute("col"),c="asc";v.columnName==t&&"asc"==v.dir&&(c="des"),N({columnName:t,dir:c})};return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[Object(g.jsxs)(i.b,{to:"/manage/users/new",className:"btn btn-primary",children:[Object(g.jsx)(S.a,{icon:y.H}),Object(g.jsx)("span",{className:"d-none d-md-inline ms-2",children:"Nuevo"})]}),Object(g.jsx)("div",{style:{width:"12rem"},children:Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)(S.a,{icon:y.v})}),Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar..."})]})})]}),Object(g.jsxs)(J.a,{striped:!0,hover:!0,borderless:!0,responsive:!0,className:"mb-0",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"fullname",children:["Nombre","fullname"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"role",children:["Rol","role"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{style:{minWidth:"12rem",cursor:"pointer"},onClick:E,col:"email",children:["Correo electr\xf3nico","email"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"phone",children:["Tel\xe9fono","phone"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsxs)("th",{className:"text-center",style:{minWidth:"8rem",cursor:"pointer"},onClick:E,col:"isEnabled",children:["Estado","isEnabled"==v.columnName?Object(g.jsx)(S.a,{icon:"asc"==v.dir?y.y:y.x,className:"ms-2"}):Object(g.jsx)(g.Fragment,{})]}),Object(g.jsx)("th",{className:"text-center",style:{minWidth:"8rem"},children:"Acciones"})]})}),Object(g.jsx)("tbody",{children:w.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.fullname}),Object(g.jsx)("td",{children:e.role}),Object(g.jsx)("td",{children:e.email}),Object(g.jsx)("td",{className:"text-center",children:e.phone||Object(g.jsx)(g.Fragment,{children:"\u2013"})}),Object(g.jsx)("td",{className:"text-center",children:Object(g.jsx)(Y.a,{pill:!0,bg:e.isEnabled?"success":"danger",children:e.isEnabled?"Activo":"Inactivo"})}),Object(g.jsxs)("td",{className:"text-center",children:[Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Editar usuario"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center me-2",to:"/manage/users/edit/"+e.id,children:Object(g.jsx)(S.a,{icon:y.l})})}),Object(g.jsx)(K.a,{placement:"left",overlay:Object(g.jsx)(Z.a,{children:"Desactivar cuenta"}),children:Object(g.jsx)(i.b,{className:"btn btn-outline-secondary text-center",to:"",children:Object(g.jsx)(S.a,{icon:y.G})})})]})]},t)}))}),Object(g.jsx)("caption",{className:"pb-0",children:Object(g.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(g.jsxs)("div",{children:["Mostrando elementos ",5*x-5+1," \u2013 ",5*x<n?5*x:n," de ",n]}),Object(g.jsx)("div",{children:Object(g.jsxs)($.a,{size:"sm",children:[Object(g.jsx)($.a.First,{onClick:function(){1!=x&&O(1)}}),Object(g.jsx)($.a.Prev,{onClick:function(){x>1&&O(x-1)}}),Object(g.jsx)($.a.Item,{active:!0,children:x}),Object(g.jsx)($.a.Next,{onClick:function(){x<d&&O(x+1)}}),Object(g.jsx)($.a.Last,{onClick:function(){x!=d&&O(d)}})]})})]})})]})]})},Ve=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){p.get("/Accounts/getTecnicos",{}).then((function(e){s(e.data)})).catch((function(e){s({itemsCount:0,pageIndex:1})}))}),[]),c?Object(g.jsx)(ze,{usersData:c}):Object(g.jsx)(z,{})},We=function(){return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"20rem",minWidth:"20rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.p,className:"me-2"}),"Gestionar t\xe9cnicos"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(Ve,{})]})},Ue=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(We,{})})},He=function(e){var t=e.url,c=Object(a.useState)([]),s=Object(m.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)({itemsCount:"",pageIndex:"",pageSize:4}),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(null),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useRef)();Ie()().locale("es");var f=function(){O(Object(g.jsx)(Ee,{variant:"info",duration:"500"})),p.get(t,{params:{Solicitud:h.current.value,pageSize:d.pageSize}}).then((function(e){r(e.data.data),j(Object(ie.a)({},{itemsCount:e.data.itemsCount,pageIndex:e.data.pageIndex,pageSize:d.pageSize}))})).catch((function(e){console.log(e),O(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error. Intente nuevamente",duration:"500"}))}))},v=function(e){O(Object(g.jsx)(Ee,{variant:"info",duration:"500"}));var c={};c=""!==h.current.value?{Solicitud:h.current.value,pageIndex:parseInt(e),pageSize:d.pageSize}:{pageIndex:parseInt(e),pageSize:d.pageSize},p.get(t,{params:c}).then((function(e){r(e.data.data),j(Object(ie.a)({},{itemsCount:e.data.itemsCount,pageIndex:e.data.pageIndex,pageSize:d.pageSize}))})).catch((function(e){console.log(e),O(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error. Intente nuevamente",duration:"500"}))}))};return Object(a.useEffect)((function(){O(Object(g.jsx)(Ee,{variant:"info",duration:"500"})),p.get(t,{params:{pageSize:d.pageSize}}).then((function(e){r(e.data.data),j(Object(ie.a)({},{itemsCount:e.data.itemsCount,pageIndex:e.data.pageIndex,pageSize:d.pageSize}))})).catch((function(e){console.log(e),O(Object(g.jsx)(C,{variant:"danger",message:"Ha ocurrido un error. Intente nuevamente",duration:"500"}))}))}),[]),Object(g.jsxs)("div",{children:[x,Object(g.jsxs)("div",{className:"col-12 col-md-6 input-group mb-3",style:{width:"22rem",marginRight:"0px",marginLeft:"auto"},children:[Object(g.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...","aria-label":"Buscar","aria-describedby":"buttonSearch",ref:h,onKeyDown:function(e){return"Enter"===e.key?f():null}}),Object(g.jsx)("button",{className:"btn btn-outline-secondary",type:"button",id:"buttonSearch",onClick:f,children:Object(g.jsx)(S.a,{icon:y.v,className:""})})]}),n.map((function(e){return Object(g.jsx)("div",{className:"card mb-4",style:{minHeight:"15rem"},children:Object(g.jsxs)("div",{className:"card-body",style:{position:"relative"},children:[Object(g.jsxs)("h3",{className:"text-secondary h3-request",children:["Solicitud ",Object(g.jsxs)("span",{className:"text-primary",children:[e.marca," ",e.modelo]})," ",Object(g.jsxs)("span",{className:"text-muted h3-span-request",children:["Serie: ",e.serie]})]}),Object(g.jsx)("hr",{}),"79b12fb2-f9ff-4a7a-ba4a-0da48637442f"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-info",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue ingresada en el sistema pero no ha sido atendida.",children:e.estado}):null,"7b6aba68-70e6-4174-98b5-67232808b29d"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-success",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue atendida y est\xe1 en curso.",children:e.estado}):null,"bc4edb94-0c87-4845-85a3-4b9317a2923e"===e.estadoId?Object(g.jsx)("span",{className:"badge bg-dark",style:{fontSize:"1rem",cursor:"pointer"},"data-toggle":"tooltip","data-placement":"bottom",title:"La solicitud ya fue completada y est\xe1 cerrada.",children:e.estado}):null,Object(g.jsx)("div",{className:"mt-2 text-bold",children:Object(g.jsxs)("p",{children:[Object(g.jsx)("span",{style:{color:"#3f3f3f"},children:"Cliente: "}),Object(g.jsxs)("span",{style:{color:"#727272"},children:[e.fullnameCliente," (",e.emailCliente,") "]})]})}),Object(g.jsxs)("div",{className:"text-muted dates-request",children:["Fecha de creaci\xf3n: ",Ie()(e.fechaCreacion).format("DD-MM-yyyy HH:mm")]}),Object(g.jsx)(i.b,{className:"btn btn-primary float-btn-request text-bold",to:"/ot/create/"+e.id,children:"Atender"})]})},e.id)})),Object(g.jsx)("div",{style:{width:"22rem",marginRight:"0px",marginLeft:"auto"},children:Object(g.jsx)("nav",{"aria-label":"...",children:Object(g.jsxs)("ul",{className:"pagination",children:[Object(g.jsx)("li",{className:1===d.pageIndex?"page-item disabled":"page-item",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex-1))},children:"Anterior"})}),1!==d.pageIndex&&2!==d.pageIndex?Object(g.jsx)("li",{className:"page-item","aria-current":"page",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex-1))},children:d.pageIndex-2})}):null,1!==d.pageIndex?Object(g.jsx)("li",{className:"page-item","aria-current":"page",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex-1))},children:d.pageIndex-1})}):null,Object(g.jsx)("li",{className:"page-item active","aria-current":"page",children:Object(g.jsx)("button",{className:"page-link",href:"#",children:d.pageIndex})}),d.pageIndex<Math.ceil(parseInt(d.itemsCount)/parseInt(d.pageSize))?Object(g.jsx)("li",{className:"page-item","aria-current":"page",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex+1))},children:d.pageIndex+1})}):null,d.pageIndex<Math.ceil(parseInt(d.itemsCount)/parseInt(d.pageSize))-1?Object(g.jsx)("li",{className:"page-item","aria-current":"page",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex+1))},children:d.pageIndex+2})}):null,Object(g.jsx)("li",{className:d.pageIndex===parseInt(d.itemsCount)/parseInt(d.pageSize)||d.pageIndex>=parseInt(d.itemsCount)/parseInt(d.pageSize)?"page-item disabled":"page-item",children:Object(g.jsx)("button",{className:"page-link",onClick:function(){return v(parseInt(d.pageIndex)+1)},children:"Siguiente"})})]})})})]})},Pe=function(){return Object(g.jsxs)("div",{className:"card p-3 bg-white mx-auto",style:{minHeight:"20rem",minWidth:"20rem",maxWidth:"80rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.j,className:"me-2"}),"Solicitudes de OT"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsx)(He,{url:"/OrdenTrabajo/pendingSolicitudes",parameters:{}})]})},Be=function(){return Object(g.jsx)(U,{content:Object(g.jsx)(Pe,{})})},_e=c(116),Ge=(c(184),function(){return Object(g.jsx)("div",{style:{borderRadius:"5%",border:"1px solid #dddddd",background:"#F3F3F3"},children:Object(g.jsx)("table",{style:{height:"4rem",textAlign:"center",width:"100%"},children:Object(g.jsx)("tbody",{children:Object(g.jsx)("tr",{children:Object(g.jsxs)("td",{className:"align-middle text-primary",children:[Object(g.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Cargando agenda"]})})})})})}),Je=c(197),Ye=function(e){var t=e.myEventsList,c=Object(_e.b)(Ie.a);return Object(g.jsx)(Je.a,{children:Object(g.jsxs)(Je.a.Item,{eventKey:"1",children:[Object(g.jsx)(Je.a.Header,{children:Object(g.jsxs)("span",{className:"text-bold",children:[Object(g.jsx)(S.a,{icon:y.f,className:"me-2"})," Agenda T\xe9cnico"]})}),Object(g.jsx)(Je.a.Body,{style:{height:550},children:Object(g.jsx)(_e.a,{className:"p-2",localizer:c,events:t,style:{height:"100%",borderRadius:"2%",border:"1px solid #dddddd",background:"#F3F3F3"},messages:{next:"Siguiente",previous:"Atr\xe1s",today:"Ahora",month:"Mes",week:"Semana",day:"D\xeda",yesterday:"Ayer",tomorrow:"Ma\xf1ana",noEventsInRange:"No hay eventos en este rango."}})})]})})},Ke=function(e){var t=e.technicalId,c=Object(a.useState)(!0),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),o=l[0],d=l[1];return Object(a.useEffect)((function(){r(!0),p.get("/OrdenTrabajo/getPendingOTTecnico",{params:{IdTecnico:t}}).then((function(e){d(e.data.data.map((function(e){return{title:"".concat(e.clienteFullname," ").concat(e.comuna," ").concat(e.calle),start:e.fechaVisita,end:e.fechaVisita}}))),r(!1)})).catch((function(e){console.log(e),r(!1)}))}),[t]),n?Object(g.jsx)(Ge,{}):Object(g.jsx)(Ye,{myEventsList:o})},Ze=[{value:"8ee19a57-e816-4e1f-b1af-c2235364f39b",label:"Capacitaci\xf3n"},{value:"4bc27b27-6fcd-450d-a34e-b2f69caebee5",label:"Demo"},{value:"e37af115-9ce1-4eb8-b07b-98b028a85ed3",label:"Diagn\xf3stico"},{value:"9f55c8d6-35e5-44c6-8234-c05e5f98b5e0",label:"Instalaci\xf3n"},{value:"f7e2c02d-beb1-48cf-98be-47c2bda87cce",label:"Llamada de servicio"},{value:"d2b3fd7f-4452-4ff7-89d1-a0032ed0f65e",label:"Mantenci\xf3n"},{value:"9efe5797-df62-4263-803e-a4dc89f82491",label:"Pre-site"},{value:"3f8eb080-1bf7-48e6-8fed-dfbe755a04df",label:"Supervisi\xf3n"}],$e=function(e){var t=e.defaultActiveKey,c=e.fullnameCliente,a=e.emailCliente,s=e.phoneCliente,n=e.marca,r=e.modelo,i=e.serie,l=e.fechaCreacion,o=e.descripcion,d=e.region,j=e.comuna,m=e.calle;return Object(g.jsx)(Je.a,Object(ie.a)(Object(ie.a)({},t),{},{children:Object(g.jsxs)(Je.a.Item,{eventKey:"0",children:[Object(g.jsx)(Je.a.Header,{children:Object(g.jsxs)("span",{className:"text-bold",children:[Object(g.jsx)(S.a,{icon:y.q,className:"me-2"})," Datos solicitud"]})}),Object(g.jsxs)(Je.a.Body,{children:[Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Cliente: "})," ",c," (",Object(g.jsx)("a",{href:"mailto:".concat(a),children:a}),")"]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Tel\xe9fono: "})," ",s]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Marca Equipo:"})," ",n]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Modelo Equipo:"})," ",r]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Serie Equipo:"})," ",i]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Fecha de ingreso solicitud: "})," ",Ie()(l).format("DD-MM-yyyy HH:mm")]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Regi\xf3n: "})," ",d]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Comuna: "})," ",j]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Calle: "})," ",m]}),Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("span",{className:"text-bold",children:"Descripci\xf3n: "}),Object(g.jsx)("br",{}),o]})]})]})}))},Qe=function(e,t){var c=e.current.getValue(),a=e.current.controlRef;a&&a.classList.remove("required-field"),c.length||(!0,a&&a.classList.add("required-field"))},Xe=function(e){var t=e.technicals,c=e.dataSolicitud,s=(e.regiones,Object(a.useState)(!1)),n=Object(m.a)(s,2),r=(n[0],n[1],Object(a.useState)([])),i=Object(m.a)(r,2),l=(i[0],i[1],Object(a.useState)("")),o=Object(m.a)(l,2),d=o[0],j=o[1],b=Object(a.useState)(null),u=Object(m.a)(b,2),x=u[0],O=u[1],h=Object(a.useRef)(),f=Object(a.useRef)(),v=Object(a.useRef)(),N=Object(a.useRef)(),k=Object(a.useRef)();return Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(oe,{to:"/otrequest/pending"}),x,Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:"card p-3 bg-white mx-auto",style:{minHeight:"20rem",minWidth:"20rem",maxWidth:"60rem"},children:[Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h4",{className:"mb-0 text-bold",children:[Object(g.jsx)(S.a,{icon:y.d,className:"me-2"}),"Generar orden de trabajo"]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("form",{className:"row m-4",onSubmit:function(e){e.preventDefault(),console.log(h.current.value);var t=!1;Qe(f),Qe(h),Qe(N),[v].map((function(e){e.current.classList.remove("required-field"),e.current.value||(t=!0,e.current.classList.add("required-field"))})),t?O(Object(g.jsx)(C,{variant:"danger",message:"Debes llenar los campos requeridos",duration:"3000"})):isNaN(k.current.value)?O(Object(g.jsx)(C,{variant:"danger",message:"Tiempo SLA debe ser num\xe9rico",duration:"3000"})):p.post("/OrdenTrabajo/createOT",{solicitudId:c.id,tecnicoId:f.current.getValue()[0].value,tipoActividadId:h.current.getValue()[0].value,fechaVisita:v.current.value,horario:N.current.getValue()[0].value,tiempo:k.current.value}).then((function(e){O(Object(g.jsx)(C,{variant:"success",message:"Orden de trabajo ingresada con \xe9xito",duration:"3000"}))})).catch((function(e){O(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al ingresar la OT. Por favor intente nuevamente m\xe1s tarde",duration:"3000"}))}))},children:[Object(g.jsx)("div",{className:"mb-3",children:Object(g.jsx)($e,{fullnameCliente:c.fullnameCliente,emailCliente:c.emailCliente,phoneCliente:c.phoneCliente,marca:c.marca,modelo:c.modelo,serie:c.serie,fechaCreacion:c.fechaCreacion,descripcion:c.descripcion,region:c.region,comuna:c.comuna,calle:c.calle})}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Tipo de actividad"}),Object(g.jsx)(re.a,{options:Ze,styles:le,ref:h,placeholder:"Seleccione un horario...",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"T\xe9cnico"}),Object(g.jsx)(re.a,{options:t,styles:le,onChange:function(e){j(""),j(e.value)},ref:f,placeholder:"Seleccione un tecnico para ver su agenda",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsx)("div",{className:"mb-3",children:""!==d?Object(g.jsxs)(a.Fragment,{children:[Object(g.jsx)(Ke,{technicalId:d}),Object(g.jsx)("small",{className:"text-muted mx-auto",children:"Esta ventana es solo para visualizar la agenda, seleccione el horario de visita en el campo de abajo "})]}):null}),Object(g.jsxs)("div",{className:"col-12 col-md-6 mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Seleccione el d\xeda de la visita"}),Object(g.jsx)("input",{type:"date",maxLength:"50",className:"form-control field",ref:v})]}),Object(g.jsxs)("div",{className:"col-12 col-md-6 mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Ma\xf1ana/Tarde"}),Object(g.jsx)(re.a,{options:[{label:"Ma\xf1ana",value:"AM"},{label:"Tarde",value:"PM"}],styles:le,ref:N,placeholder:"Seleccione un horario...",isSearchable:!0,noOptionsMessage:function(){return"Sin resultados"}})]}),Object(g.jsxs)("div",{className:"mb-3",children:[Object(g.jsx)("label",{className:"form-label",children:"Tiempo SLA"}),Object(g.jsx)("input",{type:"number",name:"userName",maxLength:"50",className:"form-control field",ref:k})]}),Object(g.jsx)("div",{className:"d-grid gap-2 mb-3 mt-4",children:Object(g.jsx)("button",{className:"btn btn-primary",children:"Generar OT"})})]})]})})]})},et=function(e){var t=e.match,c=Object(a.useState)(!0),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([]),l=Object(m.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)([]),b=Object(m.a)(j,2),u=b[0],x=b[1],O=Object(a.useState)({contrato:"",descripcion:"",emailCliente:"",equipId:"",fechaCreacion:"",fullnameCliente:"",id:"",idCliente:"",marca:"",modelo:"",phoneCliente:"",serie:"",vigenciaContrato:""}),h=Object(m.a)(O,2),f=h[0],v=h[1];return Object(a.useEffect)((function(){p.get("/Accounts/getTecnicos",{}).then((function(e){x(e.data.data.map((function(e){if(e.isEnabled)return{value:e.id,label:"".concat(e.fullname," (").concat(e.email,") (fono: ").concat(e.phone,")"),technical:e.fullname}}))),p.get("/OrdenTrabajo/getSolicitud",{params:{IdSolicitud:t.params.idrequest}}).then((function(e){v(e.data),p.get("/Ubicacion/Regiones",{}).then((function(e){d(e.data.map((function(e){return{value:e.id,label:e.name}}))),r(!1)})).catch((function(e){console.log(e),r(!1)}))})).catch((function(e){console.log(e),r(!1)}))})).catch((function(e){console.log(e),r(!1)}))}),[]),n?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(Xe,{technicals:u,dataSolicitud:f,regiones:o})})},tt=function(){return Object(g.jsx)("div",{style:{borderRadius:"5%",border:"1px solid #dddddd",background:"#F3F3F3"},children:Object(g.jsx)("table",{style:{height:"40rem",textAlign:"center",width:"100%"},children:Object(g.jsx)("tbody",{children:Object(g.jsx)("tr",{children:Object(g.jsxs)("td",{className:"align-middle text-primary",children:[Object(g.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Cargando comentarios"]})})})})})},ct=c(134),at=function(e){var t=e.fullname,c=e.role,a=e.datetime,s=e.text;return Object(g.jsxs)("div",{className:"card p-2 mb-2",style:"Yo"===t?{border:"1px solid #F50C7D",borderRadius:"30px",borderTopRightRadius:"0px"}:{border:"1px solid #0F034E",borderRadius:"30px",borderTopLeftRadius:"0px"},children:["Yo"===t?Object(g.jsxs)("span",{className:"text-bold text-primary comment-my-name",children:[Object(g.jsx)("span",{className:"text-muted",style:{color:"gray",fontWeight:"normal",fontSize:".9rem"},children:c})," Yo ",Object(g.jsx)(S.a,{icon:y.D})]}):Object(g.jsxs)("span",{className:"text-bold text-secondary comment-name-another",children:[" ",Object(g.jsx)(S.a,{icon:y.D})," ",t," ",Object(g.jsx)("span",{className:"text-muted",style:{color:"gray",fontWeight:"normal",fontSize:".9rem"},children:c})]}),Object(g.jsx)("p",{style:{paddingLeft:"1rem",fontSize:"1.1rem"},children:s}),Object(g.jsx)("span",{className:"text-muted ".concat("Yo"===t?"comment-my-time":"comment-time-another"),children:Ie()(a).fromNow()})]})},st=function(e){var t=e.comments,c=e.idOT,a=e.setAlert,s=e.setNewComment,n=e.NewComment;return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"45rem",maxHeight:"80vh"},children:[Object(g.jsxs)("div",{className:"card mb-2 p-4 overflow-auto",style:{background:"#efedfc",minHeight:"45rem"},children:[t.map((function(e){return Object(g.jsx)(at,{fullname:e.fullname,role:e.role,datetime:e.datetime,text:e.text},e.datetime)})),0===t.length?Object(g.jsxs)("span",{className:"text-center text-bold",style:{marginTop:"20rem",color:"#7672a0"},children:["A\xfan no hay comentarios... ",Object(g.jsx)("br",{})," \xa1Empieza t\xfa!\ud83d\ude01"]}):null]}),Object(g.jsx)("div",{className:"w-100",children:Object(g.jsx)(ct.a,{cleanOnEnter:!0,placeholder:"Agrega un comentario en la solicitud...",onEnter:function(e){a(Object(g.jsx)(Ee,{duration:"1000"})),e.trim()&&p.post("/OrdenTrabajo/createComentario",{idOT:c,texto:e}).then((function(e){s(n+1)})).catch((function(e){console.log(e),a(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error al intentar agregar el comentario. Por favor intente nuevamente m\xe1s tarde",duration:"4000"}))}))},borderColor:"#C6C7C8"})})]})},nt=function(e){var t=e.idOT,c=e.setAlert,s=Object(a.useState)(JSON.parse(localStorage.getItem("current_user")).fullname),n=Object(m.a)(s,2),r=n[0],i=(n[1],Object(a.useState)(!0)),l=Object(m.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)([]),b=Object(m.a)(j,2),u=b[0],x=b[1],O=Object(a.useState)(0),h=Object(m.a)(O,2),f=h[0],v=h[1];return Object(a.useEffect)((function(){p.get("/OrdenTrabajo/getComentarios",{params:{idOT:t}}).then((function(e){x(e.data.map((function(e){return{fullname:e.fullname===r?"Yo":e.fullname,role:e.role,datetime:e.datetime,text:e.text}}))),d(!1)})).catch((function(e){console.log(e),c(Object(g.jsx)(C,{variant:"danger",message:"Ocurri\xf3 un error cargando los comentarios. Por favor intente nuevamente m\xe1s tarde",duration:"4000"}))}))}),[f]),o?Object(g.jsx)(tt,{}):Object(g.jsx)(st,{comments:u,setNewComment:v,NewComment:f,idOT:t,setAlert:c,setLoading:d})},rt=function(e){var t=e.dataSolicitud,c=e.alert,a=e.setAlert;return Object(g.jsxs)("div",{className:"card p-3 bg-white",style:{minHeight:"20rem",minWidth:"20rem"},children:[c,Object(g.jsx)("div",{className:"px-2",children:Object(g.jsxs)("h3",{className:"text-secondary h3-request",children:[Object(g.jsx)(S.a,{icon:y.d,className:"me-2"})," Solicitud ",Object(g.jsxs)("span",{className:"text-primary",children:[t.marca," ",t.modelo]})," ",Object(g.jsxs)("span",{className:"text-muted h3-span-request",children:["Serie: ",t.serie]})]})}),Object(g.jsx)("hr",{className:"my-3"}),Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-12 col-md-7 mb-3",children:Object(g.jsx)($e,{defaultActiveKey:{defaultActiveKey:"0"},fullnameCliente:t.fullnameCliente,emailCliente:t.emailCliente,phoneCliente:t.phoneCliente,marca:t.marca,modelo:t.modelo,serie:t.serie,fechaCreacion:t.fechaCreacion,descripcion:t.descripcion,region:t.region,comuna:t.comuna,calle:t.calle})}),Object(g.jsx)("div",{className:"col-12 col-md-5 mb-3",children:Object(g.jsx)(nt,{idOT:t.idOT,setAlert:a})})]})]})},it=function(e){var t=e.match,c=Object(a.useState)(null),s=Object(m.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(!0),l=Object(m.a)(i,2),o=l[0],d=l[1],j=Object(a.useState)({idSolicitud:"fd971d67-69c1-4138-80b5-dcdd4db652ae",idOT:"fd971d67-69c1-4138-80b5-dcdd4db652ae",marca:"Acer",modelo:"Predator",serie:"AB781HA",fullnameCliente:"Alfredo",emailCliente:"dasas@fgsd.com",phoneCliente:"32323223",fechaCreacion:new Date,descripcion:"sddsjaskdl;jdsakl;dsajkldasjasdkljdaskldsjaklasdjlkadsklj",region:"RM",comuna:"AAA",calle:"calle 123"}),b=Object(m.a)(j,2),u=b[0],x=b[1];return Object(a.useEffect)((function(){p.get("/OrdenTrabajo/getOT",{params:{idSolicitud:t.params.id}}).then((function(e){x(e.data),d(!1)})).catch((function(e){console.log(e),d(!1)}))}),[]),o?Object(g.jsx)(z,{}):Object(g.jsx)(U,{content:Object(g.jsx)(rt,{dataSolicitud:u,alert:n,setAlert:r})})};var lt=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",component:w}),Object(g.jsx)(l.a,{exact:!0,path:"/home",component:ke}),Object(g.jsx)(l.a,{exact:!0,path:"/layout",component:U}),Object(g.jsx)(l.a,{exact:!0,path:"/recover",component:B}),Object(g.jsx)(l.a,{path:"/recuperate",component:G}),Object(g.jsx)(l.a,{path:"/createpassword",component:G}),Object(g.jsx)(l.a,{path:"/configureaccount",component:De}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/users",component:te}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/users/new",component:je}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/users/edit/:id",component:be}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/customers",component:ne}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/technicals",component:Ue}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/equipment/add/:id",component:pe}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/equipment/edit/:id",component:ge}),Object(g.jsx)(l.a,{exact:!0,path:"/manage/equipment/:id",component:he}),Object(g.jsx)(l.a,{exact:!0,path:"/otrequest/pending",component:Be}),Object(g.jsx)(l.a,{exact:!0,path:"/otrequest",component:Ae}),Object(g.jsx)(l.a,{exact:!0,path:"/otrequest/create",component:ye}),Object(g.jsx)(l.a,{exact:!0,path:"/ot/create/:idrequest",component:et}),Object(g.jsx)(l.a,{exact:!0,path:"/ot/view/:id",component:it}),Object(g.jsx)(l.a,{component:Me})]})})},ot=c(199);r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(ot.a,{children:Object(g.jsx)(lt,{})})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.cdd76a76.chunk.js.map